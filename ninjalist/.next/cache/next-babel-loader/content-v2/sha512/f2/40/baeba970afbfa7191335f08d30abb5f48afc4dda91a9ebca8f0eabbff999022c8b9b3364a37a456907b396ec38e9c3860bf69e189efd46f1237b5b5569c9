{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = Image;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _head = _interopRequireDefault(require(\"../next-server/lib/head\"));\n\nvar _toBase = require(\"../next-server/lib/to-base-64\");\n\nvar _imageConfig = require(\"../next-server/server/image-config\");\n\nvar _useIntersection = require(\"./use-intersection\");\n\nif (true) {\n  ;\n  global.__NEXT_IMAGE_IMPORTED = true;\n}\n\nconst VALID_LOADING_VALUES = ['lazy', 'eager', undefined];\nconst loaders = new Map([['imgix', imgixLoader], ['cloudinary', cloudinaryLoader], ['akamai', akamaiLoader], ['default', defaultLoader]]);\nconst VALID_LAYOUT_VALUES = ['fill', 'fixed', 'intrinsic', 'responsive', undefined];\nconst {\n  deviceSizes: configDeviceSizes,\n  imageSizes: configImageSizes,\n  loader: configLoader,\n  path: configPath,\n  domains: configDomains\n} = process.env.__NEXT_IMAGE_OPTS || _imageConfig.imageConfigDefault; // sort smallest to largest\n\nconst allSizes = [...configDeviceSizes, ...configImageSizes];\nconfigDeviceSizes.sort((a, b) => a - b);\nallSizes.sort((a, b) => a - b);\n\nfunction getWidths(width, layout) {\n  if (typeof width !== 'number' || layout === 'fill' || layout === 'responsive') {\n    return {\n      widths: configDeviceSizes,\n      kind: 'w'\n    };\n  }\n\n  const widths = [...new Set( // > This means that most OLED screens that say they are 3x resolution,\n  // > are actually 3x in the green color, but only 1.5x in the red and\n  // > blue colors. Showing a 3x resolution image in the app vs a 2x\n  // > resolution image will be visually the same, though the 3x image\n  // > takes significantly more data. Even true 3x resolution screens are\n  // > wasteful as the human eye cannot see that level of detail without\n  // > something like a magnifying glass.\n  // https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices.html\n  [width, width * 2\n  /*, width * 3*/\n  ].map(w => allSizes.find(p => p >= w) || allSizes[allSizes.length - 1]))];\n  return {\n    widths,\n    kind: 'x'\n  };\n}\n\nfunction generateImgAttrs({\n  src,\n  unoptimized,\n  layout,\n  width,\n  quality,\n  sizes,\n  loader\n}) {\n  if (unoptimized) {\n    return {\n      src,\n      srcSet: undefined,\n      sizes: undefined\n    };\n  }\n\n  const {\n    widths,\n    kind\n  } = getWidths(width, layout);\n  const last = widths.length - 1;\n  return {\n    src: loader({\n      src,\n      quality,\n      width: widths[last]\n    }),\n    sizes: !sizes && kind === 'w' ? '100vw' : sizes,\n    srcSet: widths.map((w, i) => `${loader({\n      src,\n      quality,\n      width: w\n    })} ${kind === 'w' ? w : i + 1}${kind}`).join(', ')\n  };\n}\n\nfunction getInt(x) {\n  if (typeof x === 'number') {\n    return x;\n  }\n\n  if (typeof x === 'string') {\n    return parseInt(x, 10);\n  }\n\n  return undefined;\n}\n\nfunction defaultImageLoader(loaderProps) {\n  const load = loaders.get(configLoader);\n\n  if (load) {\n    return load((0, _extends2.default)({\n      root: configPath\n    }, loaderProps));\n  }\n\n  throw new Error(`Unknown \"loader\" found in \"next.config.js\". Expected: ${_imageConfig.VALID_LOADERS.join(', ')}. Received: ${configLoader}`);\n}\n\nfunction Image(_ref) {\n  let {\n    src,\n    sizes,\n    unoptimized = false,\n    priority = false,\n    loading,\n    className,\n    quality,\n    width,\n    height,\n    objectFit,\n    objectPosition,\n    loader = defaultImageLoader\n  } = _ref,\n      all = (0, _objectWithoutPropertiesLoose2.default)(_ref, [\"src\", \"sizes\", \"unoptimized\", \"priority\", \"loading\", \"className\", \"quality\", \"width\", \"height\", \"objectFit\", \"objectPosition\", \"loader\"]);\n  let rest = all;\n  let layout = sizes ? 'responsive' : 'intrinsic';\n  let unsized = false;\n\n  if ('unsized' in rest) {\n    unsized = Boolean(rest.unsized); // Remove property so it's not spread into image:\n\n    delete rest['unsized'];\n  } else if ('layout' in rest) {\n    // Override default layout if the user specified one:\n    if (rest.layout) layout = rest.layout; // Remove property so it's not spread into image:\n\n    delete rest['layout'];\n  }\n\n  if (true) {\n    if (!src) {\n      throw new Error(`Image is missing required \"src\" property. Make sure you pass \"src\" in props to the \\`next/image\\` component. Received: ${JSON.stringify({\n        width,\n        height,\n        quality\n      })}`);\n    }\n\n    if (!VALID_LAYOUT_VALUES.includes(layout)) {\n      throw new Error(`Image with src \"${src}\" has invalid \"layout\" property. Provided \"${layout}\" should be one of ${VALID_LAYOUT_VALUES.map(String).join(',')}.`);\n    }\n\n    if (!VALID_LOADING_VALUES.includes(loading)) {\n      throw new Error(`Image with src \"${src}\" has invalid \"loading\" property. Provided \"${loading}\" should be one of ${VALID_LOADING_VALUES.map(String).join(',')}.`);\n    }\n\n    if (priority && loading === 'lazy') {\n      throw new Error(`Image with src \"${src}\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`);\n    }\n\n    if (unsized) {\n      throw new Error(`Image with src \"${src}\" has deprecated \"unsized\" property, which was removed in favor of the \"layout='fill'\" property`);\n    }\n  }\n\n  let isLazy = !priority && (loading === 'lazy' || typeof loading === 'undefined');\n\n  if (src && src.startsWith('data:')) {\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\n    unoptimized = true;\n    isLazy = false;\n  }\n\n  const [setRef, isIntersected] = (0, _useIntersection.useIntersection)({\n    rootMargin: '200px',\n    disabled: !isLazy\n  });\n  const isVisible = !isLazy || isIntersected;\n  const widthInt = getInt(width);\n  const heightInt = getInt(height);\n  const qualityInt = getInt(quality);\n  let wrapperStyle;\n  let sizerStyle;\n  let sizerSvg;\n  let imgStyle = {\n    visibility: isVisible ? 'inherit' : 'hidden',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n    boxSizing: 'border-box',\n    padding: 0,\n    border: 'none',\n    margin: 'auto',\n    display: 'block',\n    width: 0,\n    height: 0,\n    minWidth: '100%',\n    maxWidth: '100%',\n    minHeight: '100%',\n    maxHeight: '100%',\n    objectFit,\n    objectPosition\n  };\n\n  if (typeof widthInt !== 'undefined' && typeof heightInt !== 'undefined' && layout !== 'fill') {\n    // <Image src=\"i.png\" width=\"100\" height=\"100\" />\n    const quotient = heightInt / widthInt;\n    const paddingTop = isNaN(quotient) ? '100%' : `${quotient * 100}%`;\n\n    if (layout === 'responsive') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"responsive\" />\n      wrapperStyle = {\n        display: 'block',\n        overflow: 'hidden',\n        position: 'relative',\n        boxSizing: 'border-box',\n        margin: 0\n      };\n      sizerStyle = {\n        display: 'block',\n        boxSizing: 'border-box',\n        paddingTop\n      };\n    } else if (layout === 'intrinsic') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"intrinsic\" />\n      wrapperStyle = {\n        display: 'inline-block',\n        maxWidth: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n        boxSizing: 'border-box',\n        margin: 0\n      };\n      sizerStyle = {\n        boxSizing: 'border-box',\n        display: 'block',\n        maxWidth: '100%'\n      };\n      sizerSvg = `<svg width=\"${widthInt}\" height=\"${heightInt}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>`;\n    } else if (layout === 'fixed') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"fixed\" />\n      wrapperStyle = {\n        overflow: 'hidden',\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        position: 'relative',\n        width: widthInt,\n        height: heightInt\n      };\n    }\n  } else if (typeof widthInt === 'undefined' && typeof heightInt === 'undefined' && layout === 'fill') {\n    // <Image src=\"i.png\" layout=\"fill\" />\n    wrapperStyle = {\n      display: 'block',\n      overflow: 'hidden',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0,\n      boxSizing: 'border-box',\n      margin: 0\n    };\n  } else {\n    // <Image src=\"i.png\" />\n    if (true) {\n      throw new Error(`Image with src \"${src}\" must use \"width\" and \"height\" properties or \"layout='fill'\" property.`);\n    }\n  }\n\n  let imgAttributes = {\n    src: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n    srcSet: undefined,\n    sizes: undefined\n  };\n\n  if (isVisible) {\n    imgAttributes = generateImgAttrs({\n      src,\n      unoptimized,\n      layout,\n      width: widthInt,\n      quality: qualityInt,\n      sizes,\n      loader\n    });\n  }\n\n  if (unsized) {\n    wrapperStyle = undefined;\n    sizerStyle = undefined;\n    imgStyle = undefined;\n  }\n\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: wrapperStyle\n  }, sizerStyle ? /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: sizerStyle\n  }, sizerSvg ? /*#__PURE__*/_react.default.createElement(\"img\", {\n    style: {\n      maxWidth: '100%',\n      display: 'block',\n      margin: 0,\n      border: 'none',\n      padding: 0\n    },\n    alt: \"\",\n    \"aria-hidden\": true,\n    role: \"presentation\",\n    src: `data:image/svg+xml;base64,${(0, _toBase.toBase64)(sizerSvg)}`\n  }) : null) : null, /*#__PURE__*/_react.default.createElement(\"img\", Object.assign({}, rest, imgAttributes, {\n    decoding: \"async\",\n    className: className,\n    ref: setRef,\n    style: imgStyle\n  })), priority ?\n  /*#__PURE__*/\n  // Note how we omit the `href` attribute, as it would only be relevant\n  // for browsers that do not support `imagesrcset`, and in those cases\n  // it would likely cause the incorrect image to be preloaded.\n  //\n  // https://html.spec.whatwg.org/multipage/semantics.html#attr-link-imagesrcset\n  _react.default.createElement(_head.default, null, /*#__PURE__*/_react.default.createElement(\"link\", {\n    key: '__nimg-' + imgAttributes.src + imgAttributes.srcSet + imgAttributes.sizes,\n    rel: \"preload\",\n    as: \"image\",\n    href: imgAttributes.srcSet ? undefined : imgAttributes.src // @ts-ignore: imagesrcset is not yet in the link element type\n    ,\n    imagesrcset: imgAttributes.srcSet // @ts-ignore: imagesizes is not yet in the link element type\n    ,\n    imagesizes: imgAttributes.sizes\n  })) : null);\n} //BUILT IN LOADERS\n\n\nfunction normalizeSrc(src) {\n  return src[0] === '/' ? src.slice(1) : src;\n}\n\nfunction imgixLoader({\n  root,\n  src,\n  width,\n  quality\n}) {\n  // Demo: https://static.imgix.net/daisy.png?format=auto&fit=max&w=300\n  const params = ['auto=format', 'fit=max', 'w=' + width];\n  let paramsString = '';\n\n  if (quality) {\n    params.push('q=' + quality);\n  }\n\n  if (params.length) {\n    paramsString = '?' + params.join('&');\n  }\n\n  return `${root}${normalizeSrc(src)}${paramsString}`;\n}\n\nfunction akamaiLoader({\n  root,\n  src,\n  width\n}) {\n  return `${root}${normalizeSrc(src)}?imwidth=${width}`;\n}\n\nfunction cloudinaryLoader({\n  root,\n  src,\n  width,\n  quality\n}) {\n  // Demo: https://res.cloudinary.com/demo/image/upload/w_300,c_limit,q_auto/turtles.jpg\n  const params = ['f_auto', 'c_limit', 'w_' + width, 'q_' + (quality || 'auto')];\n  let paramsString = params.join(',') + '/';\n  return `${root}${paramsString}${normalizeSrc(src)}`;\n}\n\nfunction defaultLoader({\n  root,\n  src,\n  width,\n  quality\n}) {\n  if (true) {\n    const missingValues = []; // these should always be provided but make sure they are\n\n    if (!src) missingValues.push('src');\n    if (!width) missingValues.push('width');\n\n    if (missingValues.length > 0) {\n      throw new Error(`Next Image Optimization requires ${missingValues.join(', ')} to be provided. Make sure you pass them as props to the \\`next/image\\` component. Received: ${JSON.stringify({\n        src,\n        width,\n        quality\n      })}`);\n    }\n\n    if (src.startsWith('//')) {\n      throw new Error(`Failed to parse src \"${src}\" on \\`next/image\\`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)`);\n    }\n\n    if (!src.startsWith('/') && configDomains) {\n      let parsedSrc;\n\n      try {\n        parsedSrc = new URL(src);\n      } catch (err) {\n        console.error(err);\n        throw new Error(`Failed to parse src \"${src}\" on \\`next/image\\`, if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)`);\n      }\n\n      if (!configDomains.includes(parsedSrc.hostname)) {\n        throw new Error(`Invalid src prop (${src}) on \\`next/image\\`, hostname \"${parsedSrc.hostname}\" is not configured under images in your \\`next.config.js\\`\\n` + `See more info: https://err.sh/next.js/next-image-unconfigured-host`);\n      }\n    }\n  }\n\n  return `${root}?url=${encodeURIComponent(src)}&w=${width}&q=${quality || 75}`;\n}","map":{"version":3,"sources":["../../client/image.tsx"],"names":["global","VALID_LOADING_VALUES","loaders","VALID_LAYOUT_VALUES","deviceSizes","imageSizes","loader","path","domains","process","imageConfigDefault","allSizes","configDeviceSizes","a","layout","widths","kind","width","w","p","srcSet","sizes","getWidths","last","src","i","parseInt","load","root","VALID_LOADERS","configLoader","unoptimized","priority","all","rest","unsized","Boolean","JSON","loading","isLazy","rootMargin","disabled","isVisible","widthInt","getInt","heightInt","qualityInt","imgStyle","visibility","position","top","left","bottom","right","boxSizing","padding","border","margin","display","height","minWidth","maxWidth","minHeight","maxHeight","quotient","paddingTop","isNaN","wrapperStyle","overflow","sizerStyle","sizerSvg","imgAttributes","generateImgAttrs","quality","params","paramsString","normalizeSrc","missingValues","parsedSrc","console","configDomains","hostname","encodeURIComponent"],"mappings":";;;;;;;;;;;AAAA,IAAA,MAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,IAAA,KAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,yBAAA,CAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,+BAAA,CAAA;;AACA,IAAA,YAAA,GAAA,OAAA,CAAA,oCAAA,CAAA;;AAMA,IAAA,gBAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,UAAmC;AACjC;AAAEA,EAAAA,MAAD,CAAA,qBAACA,GAAD,IAACA;AAGJ;;AAAA,MAAMC,oBAAoB,GAAG,CAAA,MAAA,EAAA,OAAA,EAA7B,SAA6B,CAA7B;AAaA,MAAMC,OAAO,GAAG,IAAA,GAAA,CAGd,CACA,CAAA,OAAA,EADA,WACA,CADA,EAEA,CAAA,YAAA,EAFA,gBAEA,CAFA,EAGA,CAAA,QAAA,EAHA,YAGA,CAHA,EAIA,CAAA,SAAA,EAPF,aAOE,CAJA,CAHc,CAAhB;AAUA,MAAMC,mBAAmB,GAAG,CAAA,MAAA,EAAA,OAAA,EAAA,WAAA,EAAA,YAAA,EAA5B,SAA4B,CAA5B;AAsCA,MAAM;AACJC,EAAAA,WAAW,EADP,iBAAA;AAEJC,EAAAA,UAAU,EAFN,gBAAA;AAGJC,EAAAA,MAAM,EAHF,YAAA;AAIJC,EAAAA,IAAI,EAJA,UAAA;AAKJC,EAAAA,OAAO,EALH;AAAA,IAOFC,OAAO,CAAPA,GAAAA,CAAF,iBAAEA,IAAyDC,YAAAA,CAP7D,kBAAA,C,CAQA;;AACA,MAAMC,QAAQ,GAAG,CAAC,GAAD,iBAAA,EAAuB,GAAxC,gBAAiB,CAAjB;AACAC,iBAAiB,CAAjBA,IAAAA,CAAuB,CAAA,CAAA,EAAA,CAAA,KAAUC,CAAC,GAAlCD,CAAAA;AACAD,QAAQ,CAARA,IAAAA,CAAc,CAAA,CAAA,EAAA,CAAA,KAAUE,CAAC,GAAzBF,CAAAA;;AAEA,SAAA,SAAA,CAAA,KAAA,EAAA,MAAA,EAGyC;AACvC,MACE,OAAA,KAAA,KAAA,QAAA,IACAG,MAAM,KADN,MAAA,IAEAA,MAAM,KAHR,YAAA,EAIE;AACA,WAAO;AAAEC,MAAAA,MAAM,EAAR,iBAAA;AAA6BC,MAAAA,IAAI,EAAxC;AAAO,KAAP;AAGF;;AAAA,QAAMD,MAAM,GAAG,CACb,GAAG,IAAA,GAAA,EACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAA,KAAA,EAAQE,KAAK,GAAG;AAAhB;AAAA,IAAA,GAAA,CACGC,CAAD,IAAOP,QAAQ,CAARA,IAAAA,CAAeQ,CAAD,IAAOA,CAAC,IAAtBR,CAAAA,KAAgCA,QAAQ,CAACA,QAAQ,CAARA,MAAAA,GAXtD,CAWqD,CADjD,CATC,CADU,CAAf;AAeA,SAAO;AAAA,IAAA,MAAA;AAAUK,IAAAA,IAAI,EAArB;AAAO,GAAP;AAmBF;;AAAA,SAAA,gBAAA,CAA0B;AAAA,EAAA,GAAA;AAAA,EAAA,WAAA;AAAA,EAAA,MAAA;AAAA,EAAA,KAAA;AAAA,EAAA,OAAA;AAAA,EAAA,KAAA;AAA1B,EAAA;AAA0B,CAA1B,EAQuC;AACrC,MAAA,WAAA,EAAiB;AACf,WAAO;AAAA,MAAA,GAAA;AAAOI,MAAAA,MAAM,EAAb,SAAA;AAA0BC,MAAAA,KAAK,EAAtC;AAAO,KAAP;AAGF;;AAAA,QAAM;AAAA,IAAA,MAAA;AAAA,IAAA;AAAA,MAAmBC,SAAS,CAAA,KAAA,EAAlC,MAAkC,CAAlC;AACA,QAAMC,IAAI,GAAGR,MAAM,CAANA,MAAAA,GAAb,CAAA;AAEA,SAAO;AACLS,IAAAA,GAAG,EAAElB,MAAM,CAAC;AAAA,MAAA,GAAA;AAAA,MAAA,OAAA;AAAgBW,MAAAA,KAAK,EAAEF,MAAM,CADpC,IACoC;AAA7B,KAAD,CADN;AAELM,IAAAA,KAAK,EAAE,CAAA,KAAA,IAAUL,IAAI,KAAd,GAAA,GAAA,OAAA,GAFF,KAAA;AAGLI,IAAAA,MAAM,EAAEL,MAAM,CAANA,GAAAA,CAEJ,CAAA,CAAA,EAAA,CAAA,KACG,GAAET,MAAM,CAAC;AAAA,MAAA,GAAA;AAAA,MAAA,OAAA;AAAgBW,MAAAA,KAAK,EAAtB;AAAC,KAAD,CAA6B,IACpCD,IAAI,KAAJA,GAAAA,GAAAA,CAAAA,GAAmBS,CAAC,GAAG,CACxB,GAAET,IALDD,EAAAA,EAAAA,IAAAA,CAHV,IAGUA;AAHH,GAAP;AAcF;;AAAA,SAAA,MAAA,CAAA,CAAA,EAAgD;AAC9C,MAAI,OAAA,CAAA,KAAJ,QAAA,EAA2B;AACzB,WAAA,CAAA;AAEF;;AAAA,MAAI,OAAA,CAAA,KAAJ,QAAA,EAA2B;AACzB,WAAOW,QAAQ,CAAA,CAAA,EAAf,EAAe,CAAf;AAEF;;AAAA,SAAA,SAAA;AAGF;;AAAA,SAAA,kBAAA,CAAA,WAAA,EAA2D;AACzD,QAAMC,IAAI,GAAGzB,OAAO,CAAPA,GAAAA,CAAb,YAAaA,CAAb;;AACA,MAAA,IAAA,EAAU;AACR,WAAOyB,IAAI,CAAA,CAAA,GAAA,SAAA,CAAA,OAAA,EAAA;AAAGC,MAAAA,IAAI,EAAP;AAAA,KAAA,EAAX,WAAW,CAAA,CAAX;AAEF;;AAAA,QAAM,IAAA,KAAA,CACH,yDAAwDC,YAAAA,CAAAA,aAAAA,CAAAA,IAAAA,CAAAA,IAAAA,CAEvD,eAAcC,YAHlB,EAAM,CAAN;AAOa;;AAAA,SAAA,KAAA,CAAA,IAAA,EAcA;AAAA,MAde;AAAA,IAAA,GAAA;AAAA,IAAA,KAAA;AAG5BC,IAAAA,WAAW,GAHiB,KAAA;AAI5BC,IAAAA,QAAQ,GAJoB,KAAA;AAAA,IAAA,OAAA;AAAA,IAAA,SAAA;AAAA,IAAA,OAAA;AAAA,IAAA,KAAA;AAAA,IAAA,MAAA;AAAA,IAAA,SAAA;AAAA,IAAA,cAAA;AAY5B1B,IAAAA,MAAM,GAZsB;AAAA,MAcf,IAAA;AAAA,MADV2B,GACU,GAAA,CAAA,GAAA,8BAAA,CAAA,OAAA,EAAA,IAAA,EAAA,CAAA,KAAA,EAAA,OAAA,EAAA,aAAA,EAAA,UAAA,EAAA,SAAA,EAAA,WAAA,EAAA,SAAA,EAAA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,gBAAA,EAAA,QAAA,CAAA,CAAA;AACb,MAAIC,IAAyB,GAA7B,GAAA;AACA,MAAIpB,MAAgC,GAAGO,KAAK,GAAA,YAAA,GAA5C,WAAA;AACA,MAAIc,OAAO,GAAX,KAAA;;AACA,MAAI,aAAJ,IAAA,EAAuB;AACrBA,IAAAA,OAAO,GAAGC,OAAO,CAACF,IAAI,CAAtBC,OAAiB,CAAjBA,CADqB,CAErB;;AACA,WAAOD,IAAI,CAAX,SAAW,CAAX;AAHF,GAAA,MAIO,IAAI,YAAJ,IAAA,EAAsB;AAC3B;AACA,QAAIA,IAAI,CAAR,MAAA,EAAiBpB,MAAM,GAAGoB,IAAI,CAAbpB,MAAAA,CAFU,CAI3B;;AACA,WAAOoB,IAAI,CAAX,QAAW,CAAX;AAGF;;AAAA,YAA2C;AACzC,QAAI,CAAJ,GAAA,EAAU;AACR,YAAM,IAAA,KAAA,CACH,0HAAyHG,IAAI,CAAJA,SAAAA,CACxH;AAAA,QAAA,KAAA;AAAA,QAAA,MAAA;AADwHA,QAAAA;AACxH,OADwHA,CAD5H,EAAM,CAAN;AAMF;;AAAA,QAAI,CAAClC,mBAAmB,CAAnBA,QAAAA,CAAL,MAAKA,CAAL,EAA2C;AACzC,YAAM,IAAA,KAAA,CACH,mBAAkBqB,GAAI,8CAA6CV,MAAO,sBAAqBX,mBAAmB,CAAnBA,GAAAA,CAAAA,MAAAA,EAAAA,IAAAA,CAAAA,GAAAA,CADlG,GAAM,CAAN;AAMF;;AAAA,QAAI,CAACF,oBAAoB,CAApBA,QAAAA,CAAL,OAAKA,CAAL,EAA6C;AAC3C,YAAM,IAAA,KAAA,CACH,mBAAkBuB,GAAI,+CAA8Cc,OAAQ,sBAAqBrC,oBAAoB,CAApBA,GAAAA,CAAAA,MAAAA,EAAAA,IAAAA,CAAAA,GAAAA,CADpG,GAAM,CAAN;AAMF;;AAAA,QAAI+B,QAAQ,IAAIM,OAAO,KAAvB,MAAA,EAAoC;AAClC,YAAM,IAAA,KAAA,CACH,mBAAkBd,GADrB,iFAAM,CAAN;AAIF;;AAAA,QAAA,OAAA,EAAa;AACX,YAAM,IAAA,KAAA,CACH,mBAAkBA,GADrB,iGAAM,CAAN;AAIH;AAED;;AAAA,MAAIe,MAAM,GACR,CAAA,QAAA,KAAcD,OAAO,KAAPA,MAAAA,IAAsB,OAAA,OAAA,KADtC,WACE,CADF;;AAEA,MAAId,GAAG,IAAIA,GAAG,CAAHA,UAAAA,CAAX,OAAWA,CAAX,EAAoC;AAClC;AACAO,IAAAA,WAAW,GAAXA,IAAAA;AACAQ,IAAAA,MAAM,GAANA,KAAAA;AAGF;;AAAA,QAAM,CAAA,MAAA,EAAA,aAAA,IAA0B,CAAA,GAAA,gBAAA,CAAA,eAAA,EAAkC;AAChEC,IAAAA,UAAU,EADsD,OAAA;AAEhEC,IAAAA,QAAQ,EAAE,CAFZ;AAAkE,GAAlC,CAAhC;AAIA,QAAMC,SAAS,GAAG,CAAA,MAAA,IAAlB,aAAA;AAEA,QAAMC,QAAQ,GAAGC,MAAM,CAAvB,KAAuB,CAAvB;AACA,QAAMC,SAAS,GAAGD,MAAM,CAAxB,MAAwB,CAAxB;AACA,QAAME,UAAU,GAAGF,MAAM,CAAzB,OAAyB,CAAzB;AAEA,MAAA,YAAA;AACA,MAAA,UAAA;AACA,MAAA,QAAA;AACA,MAAIG,QAAqC,GAAG;AAC1CC,IAAAA,UAAU,EAAEN,SAAS,GAAA,SAAA,GADqB,QAAA;AAG1CO,IAAAA,QAAQ,EAHkC,UAAA;AAI1CC,IAAAA,GAAG,EAJuC,CAAA;AAK1CC,IAAAA,IAAI,EALsC,CAAA;AAM1CC,IAAAA,MAAM,EANoC,CAAA;AAO1CC,IAAAA,KAAK,EAPqC,CAAA;AAS1CC,IAAAA,SAAS,EATiC,YAAA;AAU1CC,IAAAA,OAAO,EAVmC,CAAA;AAW1CC,IAAAA,MAAM,EAXoC,MAAA;AAY1CC,IAAAA,MAAM,EAZoC,MAAA;AAc1CC,IAAAA,OAAO,EAdmC,OAAA;AAe1CzC,IAAAA,KAAK,EAfqC,CAAA;AAgB1C0C,IAAAA,MAAM,EAhBoC,CAAA;AAiB1CC,IAAAA,QAAQ,EAjBkC,MAAA;AAkB1CC,IAAAA,QAAQ,EAlBkC,MAAA;AAmB1CC,IAAAA,SAAS,EAnBiC,MAAA;AAoB1CC,IAAAA,SAAS,EApBiC,MAAA;AAAA,IAAA,SAAA;AAA5C,IAAA;AAA4C,GAA5C;;AAyBA,MACE,OAAA,QAAA,KAAA,WAAA,IACA,OAAA,SAAA,KADA,WAAA,IAEAjD,MAAM,KAHR,MAAA,EAIE;AACA;AACA,UAAMkD,QAAQ,GAAGnB,SAAS,GAA1B,QAAA;AACA,UAAMoB,UAAU,GAAGC,KAAK,CAALA,QAAK,CAALA,GAAAA,MAAAA,GAA4B,GAAEF,QAAQ,GAAG,GAA5D,GAAA;;AACA,QAAIlD,MAAM,KAAV,YAAA,EAA6B;AAC3B;AACAqD,MAAAA,YAAY,GAAG;AACbT,QAAAA,OAAO,EADM,OAAA;AAEbU,QAAAA,QAAQ,EAFK,QAAA;AAGbnB,QAAAA,QAAQ,EAHK,UAAA;AAKbK,QAAAA,SAAS,EALI,YAAA;AAMbG,QAAAA,MAAM,EANRU;AAAe,OAAfA;AAQAE,MAAAA,UAAU,GAAG;AAAEX,QAAAA,OAAO,EAAT,OAAA;AAAoBJ,QAAAA,SAAS,EAA7B,YAAA;AAAbe,QAAAA;AAAa,OAAbA;AAVF,KAAA,MAWO,IAAIvD,MAAM,KAAV,WAAA,EAA4B;AACjC;AACAqD,MAAAA,YAAY,GAAG;AACbT,QAAAA,OAAO,EADM,cAAA;AAEbG,QAAAA,QAAQ,EAFK,MAAA;AAGbO,QAAAA,QAAQ,EAHK,QAAA;AAIbnB,QAAAA,QAAQ,EAJK,UAAA;AAKbK,QAAAA,SAAS,EALI,YAAA;AAMbG,QAAAA,MAAM,EANRU;AAAe,OAAfA;AAQAE,MAAAA,UAAU,GAAG;AACXf,QAAAA,SAAS,EADE,YAAA;AAEXI,QAAAA,OAAO,EAFI,OAAA;AAGXG,QAAAA,QAAQ,EAHVQ;AAAa,OAAbA;AAKAC,MAAAA,QAAQ,GAAI,eAAc3B,QAAS,aAAYE,SAA/CyB,sDAAAA;AAfK,KAAA,MAgBA,IAAIxD,MAAM,KAAV,OAAA,EAAwB;AAC7B;AACAqD,MAAAA,YAAY,GAAG;AACbC,QAAAA,QAAQ,EADK,QAAA;AAEbd,QAAAA,SAAS,EAFI,YAAA;AAGbI,QAAAA,OAAO,EAHM,cAAA;AAIbT,QAAAA,QAAQ,EAJK,UAAA;AAKbhC,QAAAA,KAAK,EALQ,QAAA;AAMb0C,QAAAA,MAAM,EANRQ;AAAe,OAAfA;AASH;AA9CD,GAAA,MA8CO,IACL,OAAA,QAAA,KAAA,WAAA,IACA,OAAA,SAAA,KADA,WAAA,IAEArD,MAAM,KAHD,MAAA,EAIL;AACA;AACAqD,IAAAA,YAAY,GAAG;AACbT,MAAAA,OAAO,EADM,OAAA;AAEbU,MAAAA,QAAQ,EAFK,QAAA;AAIbnB,MAAAA,QAAQ,EAJK,UAAA;AAKbC,MAAAA,GAAG,EALU,CAAA;AAMbC,MAAAA,IAAI,EANS,CAAA;AAObC,MAAAA,MAAM,EAPO,CAAA;AAQbC,MAAAA,KAAK,EARQ,CAAA;AAUbC,MAAAA,SAAS,EAVI,YAAA;AAWbG,MAAAA,MAAM,EAXRU;AAAe,KAAfA;AANK,GAAA,MAmBA;AACL;AACA,cAA2C;AACzC,YAAM,IAAA,KAAA,CACH,mBAAkB3C,GADrB,yEAAM,CAAN;AAIH;AAED;;AAAA,MAAI+C,aAAgC,GAAG;AACrC/C,IAAAA,GAAG,EADkC,gFAAA;AAGrCJ,IAAAA,MAAM,EAH+B,SAAA;AAIrCC,IAAAA,KAAK,EAJP;AAAuC,GAAvC;;AAOA,MAAA,SAAA,EAAe;AACbkD,IAAAA,aAAa,GAAGC,gBAAgB,CAAC;AAAA,MAAA,GAAA;AAAA,MAAA,WAAA;AAAA,MAAA,MAAA;AAI/BvD,MAAAA,KAAK,EAJ0B,QAAA;AAK/BwD,MAAAA,OAAO,EALwB,UAAA;AAAA,MAAA,KAAA;AAAjCF,MAAAA;AAAiC,KAAD,CAAhCA;AAWF;;AAAA,MAAA,OAAA,EAAa;AACXJ,IAAAA,YAAY,GAAZA,SAAAA;AACAE,IAAAA,UAAU,GAAVA,SAAAA;AACAtB,IAAAA,QAAQ,GAARA,SAAAA;AAEF;;AAAA,SAAA,aACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,KAAK,EAAV;AAAA,GAAA,EACGsB,UAAU,GAAA,aACT,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,KAAK,EAAV;AAAA,GAAA,EACGC,QAAQ,GAAA,aACP,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,KAAK,EAAE;AACLT,MAAAA,QAAQ,EADH,MAAA;AAELH,MAAAA,OAAO,EAFF,OAAA;AAGLD,MAAAA,MAAM,EAHD,CAAA;AAILD,MAAAA,MAAM,EAJD,MAAA;AAKLD,MAAAA,OAAO,EANX;AACS,KADT;AAQE,IAAA,GAAG,EARL,EAAA;AASE,mBATF,IAAA;AAUE,IAAA,IAAI,EAVN,cAAA;AAWE,IAAA,GAAG,EAAG,6BAA4B,CAAA,GAAA,OAAA,CAAA,QAAA,EAAA,QAAA,CAZ7B;AACP,GAAA,CADO,GAFF,IACT,CADS,GADb,IAAA,EAAA,aAoBE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,IAAA,EAAA,aAAA,EAAA;AAGE,IAAA,QAAQ,EAHV,OAAA;AAIE,IAAA,SAAS,EAJX,SAAA;AAKE,IAAA,GAAG,EALL,MAAA;AAME,IAAA,KAAK,EA1BT;AAoBE,GAAA,CAAA,CApBF,EA4BGvB,QAAQ;AAAA;AACP;AACA;AACA;AACA;AACA;AACA,EAAA,MAAA,CAAA,OAAA,CAAA,aAAA,CAAC,KAAA,CAAD,OAAA,EAAA,IAAA,EAAA,aACE,MAAA,CAAA,OAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACE,IAAA,GAAG,EACD,YACAuC,aAAa,CADb,GAAA,GAEAA,aAAa,CAFb,MAAA,GAGAA,aAAa,CALjB,KAAA;AAOE,IAAA,GAAG,EAPL,SAAA;AAQE,IAAA,EAAE,EARJ,OAAA;AASE,IAAA,IAAI,EAAEA,aAAa,CAAbA,MAAAA,GAAAA,SAAAA,GAAmCA,aAAa,CAAC/C,GATzD,CAUE;AAVF;AAWE,IAAA,WAAW,EAAE+C,aAAa,CAACnD,MAX7B,CAYE;AAZF;AAaE,IAAA,UAAU,EAAEmD,aAAa,CApBtB;AAOL,GAAA,CADF,CANO,GA7Bb,IACE,CADF;AAyDF,C,CAAA;;;AAEA,SAAA,YAAA,CAAA,GAAA,EAA2C;AACzC,SAAO/C,GAAG,CAAHA,CAAG,CAAHA,KAAAA,GAAAA,GAAiBA,GAAG,CAAHA,KAAAA,CAAjBA,CAAiBA,CAAjBA,GAAP,GAAA;AAGF;;AAAA,SAAA,WAAA,CAAqB;AAAA,EAAA,IAAA;AAAA,EAAA,GAAA;AAAA,EAAA,KAAA;AAArB,EAAA;AAAqB,CAArB,EAKoC;AAClC;AACA,QAAMkD,MAAM,GAAG,CAAA,aAAA,EAAA,SAAA,EAA2B,OAA1C,KAAe,CAAf;AACA,MAAIC,YAAY,GAAhB,EAAA;;AACA,MAAA,OAAA,EAAa;AACXD,IAAAA,MAAM,CAANA,IAAAA,CAAY,OAAZA,OAAAA;AAGF;;AAAA,MAAIA,MAAM,CAAV,MAAA,EAAmB;AACjBC,IAAAA,YAAY,GAAG,MAAMD,MAAM,CAANA,IAAAA,CAArBC,GAAqBD,CAArBC;AAEF;;AAAA,SAAQ,GAAE/C,IAAK,GAAEgD,YAAY,CAAA,GAAA,CAAM,GAAED,YAArC,EAAA;AAGF;;AAAA,SAAA,YAAA,CAAsB;AAAA,EAAA,IAAA;AAAA,EAAA,GAAA;AAAtB,EAAA;AAAsB,CAAtB,EAA6E;AAC3E,SAAQ,GAAE/C,IAAK,GAAEgD,YAAY,CAAA,GAAA,CAAM,YAAW3D,KAA9C,EAAA;AAGF;;AAAA,SAAA,gBAAA,CAA0B;AAAA,EAAA,IAAA;AAAA,EAAA,GAAA;AAAA,EAAA,KAAA;AAA1B,EAAA;AAA0B,CAA1B,EAKoC;AAClC;AACA,QAAMyD,MAAM,GAAG,CAAA,QAAA,EAAA,SAAA,EAAsB,OAAtB,KAAA,EAAoC,QAAQD,OAAO,IAAlE,MAAmD,CAApC,CAAf;AACA,MAAIE,YAAY,GAAGD,MAAM,CAANA,IAAAA,CAAAA,GAAAA,IAAnB,GAAA;AACA,SAAQ,GAAE9C,IAAK,GAAE+C,YAAa,GAAEC,YAAY,CAAA,GAAA,CAA5C,EAAA;AAGF;;AAAA,SAAA,aAAA,CAAuB;AAAA,EAAA,IAAA;AAAA,EAAA,GAAA;AAAA,EAAA,KAAA;AAAvB,EAAA;AAAuB,CAAvB,EAKoC;AAClC,YAA2C;AACzC,UAAMC,aAAa,GAAnB,EAAA,CADyC,CAGzC;;AACA,QAAI,CAAJ,GAAA,EAAUA,aAAa,CAAbA,IAAAA,CAAAA,KAAAA;AACV,QAAI,CAAJ,KAAA,EAAYA,aAAa,CAAbA,IAAAA,CAAAA,OAAAA;;AAEZ,QAAIA,aAAa,CAAbA,MAAAA,GAAJ,CAAA,EAA8B;AAC5B,YAAM,IAAA,KAAA,CACH,oCAAmCA,aAAa,CAAbA,IAAAA,CAAAA,IAAAA,CAElC,gGAA+FxC,IAAI,CAAJA,SAAAA,CAC/F;AAAA,QAAA,GAAA;AAAA,QAAA,KAAA;AAD+FA,QAAAA;AAC/F,OAD+FA,CAHnG,EAAM,CAAN;AASF;;AAAA,QAAIb,GAAG,CAAHA,UAAAA,CAAJ,IAAIA,CAAJ,EAA0B;AACxB,YAAM,IAAA,KAAA,CACH,wBAAuBA,GAD1B,0GAAM,CAAN;AAKF;;AAAA,QAAI,CAACA,GAAG,CAAHA,UAAAA,CAAD,GAACA,CAAD,IAAJ,aAAA,EAA2C;AACzC,UAAA,SAAA;;AACA,UAAI;AACFsD,QAAAA,SAAS,GAAG,IAAA,GAAA,CAAZA,GAAY,CAAZA;AACA,OAFF,CAEE,OAAA,GAAA,EAAY;AACZC,QAAAA,OAAO,CAAPA,KAAAA,CAAAA,GAAAA;AACA,cAAM,IAAA,KAAA,CACH,wBAAuBvD,GAD1B,iIAAM,CAAN;AAKF;;AAAA,UAAI,CAACwD,aAAa,CAAbA,QAAAA,CAAuBF,SAAS,CAArC,QAAKE,CAAL,EAAiD;AAC/C,cAAM,IAAA,KAAA,CACH,qBAAoBxD,GAAI,kCAAiCsD,SAAS,CAACG,QAApE,+DAAC,GADH,oEAAM,CAAN;AAKH;AACF;AAED;;AAAA,SAAQ,GAAErD,IAAK,QAAOsD,kBAAkB,CAAA,GAAA,CAAM,MAAKjE,KAAM,MAAKwD,OAAO,IAAI,EAAzE,EAAA;AACD","sourcesContent":["import React from 'react'\nimport Head from '../next-server/lib/head'\nimport { toBase64 } from '../next-server/lib/to-base-64'\nimport {\n  ImageConfig,\n  imageConfigDefault,\n  LoaderValue,\n  VALID_LOADERS,\n} from '../next-server/server/image-config'\nimport { useIntersection } from './use-intersection'\n\nif (typeof window === 'undefined') {\n  ;(global as any).__NEXT_IMAGE_IMPORTED = true\n}\n\nconst VALID_LOADING_VALUES = ['lazy', 'eager', undefined] as const\ntype LoadingValue = typeof VALID_LOADING_VALUES[number]\n\nexport type ImageLoader = (resolverProps: ImageLoaderProps) => string\n\nexport type ImageLoaderProps = {\n  src: string\n  width: number\n  quality?: number\n}\n\ntype DefaultImageLoaderProps = ImageLoaderProps & { root: string }\n\nconst loaders = new Map<\n  LoaderValue,\n  (props: DefaultImageLoaderProps) => string\n>([\n  ['imgix', imgixLoader],\n  ['cloudinary', cloudinaryLoader],\n  ['akamai', akamaiLoader],\n  ['default', defaultLoader],\n])\n\nconst VALID_LAYOUT_VALUES = [\n  'fill',\n  'fixed',\n  'intrinsic',\n  'responsive',\n  undefined,\n] as const\ntype LayoutValue = typeof VALID_LAYOUT_VALUES[number]\n\ntype ImgElementStyle = NonNullable<JSX.IntrinsicElements['img']['style']>\n\nexport type ImageProps = Omit<\n  JSX.IntrinsicElements['img'],\n  'src' | 'srcSet' | 'ref' | 'width' | 'height' | 'loading' | 'style'\n> & {\n  src: string\n  loader?: ImageLoader\n  quality?: number | string\n  priority?: boolean\n  loading?: LoadingValue\n  unoptimized?: boolean\n  objectFit?: ImgElementStyle['objectFit']\n  objectPosition?: ImgElementStyle['objectPosition']\n} & (\n    | {\n        width?: never\n        height?: never\n        /** @deprecated Use `layout=\"fill\"` instead */\n        unsized: true\n      }\n    | { width?: never; height?: never; layout: 'fill' }\n    | {\n        width: number | string\n        height: number | string\n        layout?: Exclude<LayoutValue, 'fill'>\n      }\n  )\n\nconst {\n  deviceSizes: configDeviceSizes,\n  imageSizes: configImageSizes,\n  loader: configLoader,\n  path: configPath,\n  domains: configDomains,\n} =\n  ((process.env.__NEXT_IMAGE_OPTS as any) as ImageConfig) || imageConfigDefault\n// sort smallest to largest\nconst allSizes = [...configDeviceSizes, ...configImageSizes]\nconfigDeviceSizes.sort((a, b) => a - b)\nallSizes.sort((a, b) => a - b)\n\nfunction getWidths(\n  width: number | undefined,\n  layout: LayoutValue\n): { widths: number[]; kind: 'w' | 'x' } {\n  if (\n    typeof width !== 'number' ||\n    layout === 'fill' ||\n    layout === 'responsive'\n  ) {\n    return { widths: configDeviceSizes, kind: 'w' }\n  }\n\n  const widths = [\n    ...new Set(\n      // > This means that most OLED screens that say they are 3x resolution,\n      // > are actually 3x in the green color, but only 1.5x in the red and\n      // > blue colors. Showing a 3x resolution image in the app vs a 2x\n      // > resolution image will be visually the same, though the 3x image\n      // > takes significantly more data. Even true 3x resolution screens are\n      // > wasteful as the human eye cannot see that level of detail without\n      // > something like a magnifying glass.\n      // https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices.html\n      [width, width * 2 /*, width * 3*/].map(\n        (w) => allSizes.find((p) => p >= w) || allSizes[allSizes.length - 1]\n      )\n    ),\n  ]\n  return { widths, kind: 'x' }\n}\n\ntype GenImgAttrsData = {\n  src: string\n  unoptimized: boolean\n  layout: LayoutValue\n  loader: ImageLoader\n  width?: number\n  quality?: number\n  sizes?: string\n}\n\ntype GenImgAttrsResult = {\n  src: string\n  srcSet: string | undefined\n  sizes: string | undefined\n}\n\nfunction generateImgAttrs({\n  src,\n  unoptimized,\n  layout,\n  width,\n  quality,\n  sizes,\n  loader,\n}: GenImgAttrsData): GenImgAttrsResult {\n  if (unoptimized) {\n    return { src, srcSet: undefined, sizes: undefined }\n  }\n\n  const { widths, kind } = getWidths(width, layout)\n  const last = widths.length - 1\n\n  return {\n    src: loader({ src, quality, width: widths[last] }),\n    sizes: !sizes && kind === 'w' ? '100vw' : sizes,\n    srcSet: widths\n      .map(\n        (w, i) =>\n          `${loader({ src, quality, width: w })} ${\n            kind === 'w' ? w : i + 1\n          }${kind}`\n      )\n      .join(', '),\n  }\n}\n\nfunction getInt(x: unknown): number | undefined {\n  if (typeof x === 'number') {\n    return x\n  }\n  if (typeof x === 'string') {\n    return parseInt(x, 10)\n  }\n  return undefined\n}\n\nfunction defaultImageLoader(loaderProps: ImageLoaderProps) {\n  const load = loaders.get(configLoader)\n  if (load) {\n    return load({ root: configPath, ...loaderProps })\n  }\n  throw new Error(\n    `Unknown \"loader\" found in \"next.config.js\". Expected: ${VALID_LOADERS.join(\n      ', '\n    )}. Received: ${configLoader}`\n  )\n}\n\nexport default function Image({\n  src,\n  sizes,\n  unoptimized = false,\n  priority = false,\n  loading,\n  className,\n  quality,\n  width,\n  height,\n  objectFit,\n  objectPosition,\n  loader = defaultImageLoader,\n  ...all\n}: ImageProps) {\n  let rest: Partial<ImageProps> = all\n  let layout: NonNullable<LayoutValue> = sizes ? 'responsive' : 'intrinsic'\n  let unsized = false\n  if ('unsized' in rest) {\n    unsized = Boolean(rest.unsized)\n    // Remove property so it's not spread into image:\n    delete rest['unsized']\n  } else if ('layout' in rest) {\n    // Override default layout if the user specified one:\n    if (rest.layout) layout = rest.layout\n\n    // Remove property so it's not spread into image:\n    delete rest['layout']\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!src) {\n      throw new Error(\n        `Image is missing required \"src\" property. Make sure you pass \"src\" in props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { width, height, quality }\n        )}`\n      )\n    }\n    if (!VALID_LAYOUT_VALUES.includes(layout)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"layout\" property. Provided \"${layout}\" should be one of ${VALID_LAYOUT_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (!VALID_LOADING_VALUES.includes(loading)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"loading\" property. Provided \"${loading}\" should be one of ${VALID_LOADING_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (priority && loading === 'lazy') {\n      throw new Error(\n        `Image with src \"${src}\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`\n      )\n    }\n    if (unsized) {\n      throw new Error(\n        `Image with src \"${src}\" has deprecated \"unsized\" property, which was removed in favor of the \"layout='fill'\" property`\n      )\n    }\n  }\n\n  let isLazy =\n    !priority && (loading === 'lazy' || typeof loading === 'undefined')\n  if (src && src.startsWith('data:')) {\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\n    unoptimized = true\n    isLazy = false\n  }\n\n  const [setRef, isIntersected] = useIntersection<HTMLImageElement>({\n    rootMargin: '200px',\n    disabled: !isLazy,\n  })\n  const isVisible = !isLazy || isIntersected\n\n  const widthInt = getInt(width)\n  const heightInt = getInt(height)\n  const qualityInt = getInt(quality)\n\n  let wrapperStyle: JSX.IntrinsicElements['div']['style'] | undefined\n  let sizerStyle: JSX.IntrinsicElements['div']['style'] | undefined\n  let sizerSvg: string | undefined\n  let imgStyle: ImgElementStyle | undefined = {\n    visibility: isVisible ? 'inherit' : 'hidden',\n\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n\n    boxSizing: 'border-box',\n    padding: 0,\n    border: 'none',\n    margin: 'auto',\n\n    display: 'block',\n    width: 0,\n    height: 0,\n    minWidth: '100%',\n    maxWidth: '100%',\n    minHeight: '100%',\n    maxHeight: '100%',\n\n    objectFit,\n    objectPosition,\n  }\n  if (\n    typeof widthInt !== 'undefined' &&\n    typeof heightInt !== 'undefined' &&\n    layout !== 'fill'\n  ) {\n    // <Image src=\"i.png\" width=\"100\" height=\"100\" />\n    const quotient = heightInt / widthInt\n    const paddingTop = isNaN(quotient) ? '100%' : `${quotient * 100}%`\n    if (layout === 'responsive') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"responsive\" />\n      wrapperStyle = {\n        display: 'block',\n        overflow: 'hidden',\n        position: 'relative',\n\n        boxSizing: 'border-box',\n        margin: 0,\n      }\n      sizerStyle = { display: 'block', boxSizing: 'border-box', paddingTop }\n    } else if (layout === 'intrinsic') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"intrinsic\" />\n      wrapperStyle = {\n        display: 'inline-block',\n        maxWidth: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n        boxSizing: 'border-box',\n        margin: 0,\n      }\n      sizerStyle = {\n        boxSizing: 'border-box',\n        display: 'block',\n        maxWidth: '100%',\n      }\n      sizerSvg = `<svg width=\"${widthInt}\" height=\"${heightInt}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>`\n    } else if (layout === 'fixed') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"fixed\" />\n      wrapperStyle = {\n        overflow: 'hidden',\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        position: 'relative',\n        width: widthInt,\n        height: heightInt,\n      }\n    }\n  } else if (\n    typeof widthInt === 'undefined' &&\n    typeof heightInt === 'undefined' &&\n    layout === 'fill'\n  ) {\n    // <Image src=\"i.png\" layout=\"fill\" />\n    wrapperStyle = {\n      display: 'block',\n      overflow: 'hidden',\n\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0,\n\n      boxSizing: 'border-box',\n      margin: 0,\n    }\n  } else {\n    // <Image src=\"i.png\" />\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error(\n        `Image with src \"${src}\" must use \"width\" and \"height\" properties or \"layout='fill'\" property.`\n      )\n    }\n  }\n\n  let imgAttributes: GenImgAttrsResult = {\n    src:\n      'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n    srcSet: undefined,\n    sizes: undefined,\n  }\n\n  if (isVisible) {\n    imgAttributes = generateImgAttrs({\n      src,\n      unoptimized,\n      layout,\n      width: widthInt,\n      quality: qualityInt,\n      sizes,\n      loader,\n    })\n  }\n\n  if (unsized) {\n    wrapperStyle = undefined\n    sizerStyle = undefined\n    imgStyle = undefined\n  }\n  return (\n    <div style={wrapperStyle}>\n      {sizerStyle ? (\n        <div style={sizerStyle}>\n          {sizerSvg ? (\n            <img\n              style={{\n                maxWidth: '100%',\n                display: 'block',\n                margin: 0,\n                border: 'none',\n                padding: 0,\n              }}\n              alt=\"\"\n              aria-hidden={true}\n              role=\"presentation\"\n              src={`data:image/svg+xml;base64,${toBase64(sizerSvg)}`}\n            />\n          ) : null}\n        </div>\n      ) : null}\n      <img\n        {...rest}\n        {...imgAttributes}\n        decoding=\"async\"\n        className={className}\n        ref={setRef}\n        style={imgStyle}\n      />\n      {priority ? (\n        // Note how we omit the `href` attribute, as it would only be relevant\n        // for browsers that do not support `imagesrcset`, and in those cases\n        // it would likely cause the incorrect image to be preloaded.\n        //\n        // https://html.spec.whatwg.org/multipage/semantics.html#attr-link-imagesrcset\n        <Head>\n          <link\n            key={\n              '__nimg-' +\n              imgAttributes.src +\n              imgAttributes.srcSet +\n              imgAttributes.sizes\n            }\n            rel=\"preload\"\n            as=\"image\"\n            href={imgAttributes.srcSet ? undefined : imgAttributes.src}\n            // @ts-ignore: imagesrcset is not yet in the link element type\n            imagesrcset={imgAttributes.srcSet}\n            // @ts-ignore: imagesizes is not yet in the link element type\n            imagesizes={imgAttributes.sizes}\n          ></link>\n        </Head>\n      ) : null}\n    </div>\n  )\n}\n\n//BUILT IN LOADERS\n\nfunction normalizeSrc(src: string): string {\n  return src[0] === '/' ? src.slice(1) : src\n}\n\nfunction imgixLoader({\n  root,\n  src,\n  width,\n  quality,\n}: DefaultImageLoaderProps): string {\n  // Demo: https://static.imgix.net/daisy.png?format=auto&fit=max&w=300\n  const params = ['auto=format', 'fit=max', 'w=' + width]\n  let paramsString = ''\n  if (quality) {\n    params.push('q=' + quality)\n  }\n\n  if (params.length) {\n    paramsString = '?' + params.join('&')\n  }\n  return `${root}${normalizeSrc(src)}${paramsString}`\n}\n\nfunction akamaiLoader({ root, src, width }: DefaultImageLoaderProps): string {\n  return `${root}${normalizeSrc(src)}?imwidth=${width}`\n}\n\nfunction cloudinaryLoader({\n  root,\n  src,\n  width,\n  quality,\n}: DefaultImageLoaderProps): string {\n  // Demo: https://res.cloudinary.com/demo/image/upload/w_300,c_limit,q_auto/turtles.jpg\n  const params = ['f_auto', 'c_limit', 'w_' + width, 'q_' + (quality || 'auto')]\n  let paramsString = params.join(',') + '/'\n  return `${root}${paramsString}${normalizeSrc(src)}`\n}\n\nfunction defaultLoader({\n  root,\n  src,\n  width,\n  quality,\n}: DefaultImageLoaderProps): string {\n  if (process.env.NODE_ENV !== 'production') {\n    const missingValues = []\n\n    // these should always be provided but make sure they are\n    if (!src) missingValues.push('src')\n    if (!width) missingValues.push('width')\n\n    if (missingValues.length > 0) {\n      throw new Error(\n        `Next Image Optimization requires ${missingValues.join(\n          ', '\n        )} to be provided. Make sure you pass them as props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { src, width, quality }\n        )}`\n      )\n    }\n\n    if (src.startsWith('//')) {\n      throw new Error(\n        `Failed to parse src \"${src}\" on \\`next/image\\`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)`\n      )\n    }\n\n    if (!src.startsWith('/') && configDomains) {\n      let parsedSrc: URL\n      try {\n        parsedSrc = new URL(src)\n      } catch (err) {\n        console.error(err)\n        throw new Error(\n          `Failed to parse src \"${src}\" on \\`next/image\\`, if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)`\n        )\n      }\n\n      if (!configDomains.includes(parsedSrc.hostname)) {\n        throw new Error(\n          `Invalid src prop (${src}) on \\`next/image\\`, hostname \"${parsedSrc.hostname}\" is not configured under images in your \\`next.config.js\\`\\n` +\n            `See more info: https://err.sh/next.js/next-image-unconfigured-host`\n        )\n      }\n    }\n  }\n\n  return `${root}?url=${encodeURIComponent(src)}&w=${width}&q=${quality || 75}`\n}\n"]},"metadata":{},"sourceType":"script"}