{"version":3,"sources":["../../../build/webpack/require-hook.ts"],"names":["hookPropertyMap","Map","mod","require","resolveFilename","_resolveFilename","request","parent","isMain","options","hookResolved","get","call"],"mappings":"aAAA;AACA;AACA;AAEA,KAAMA,CAAAA,eAAe,CAAG,GAAIC,CAAAA,GAAJ,CAAQ,CAC9B,CAAC,SAAD,CAAY,wCAAZ,CAD8B,CAE9B,CAAC,iBAAD,CAAoB,oCAApB,CAF8B,CAG9B,CAAC,sBAAD,CAAyB,oCAAzB,CAH8B,CAI9B,CAAC,qBAAD,CAAwB,wCAAxB,CAJ8B,CAK9B,CAAC,wBAAD,CAA2B,wCAA3B,CAL8B,CAM9B,CACE,wCADF,CAEE,kDAFF,CAN8B,CAU9B,CACE,2CADF,CAEE,kDAFF,CAV8B,CAc9B,CACE,sCADF,CAEE,qDAFF,CAd8B,CAkB9B,CACE,yCADF,CAEE,qDAFF,CAlB8B,CAsB9B,CACE,mCADF,CAEE,6CAFF,CAtB8B,CA0B9B,CACE,sCADF,CAEE,6CAFF,CA1B8B,CA8B9B,CACE,mCADF,CAEE,kDAFF,CA9B8B,CAkC9B,CACE,sCADF,CAEE,kDAFF,CAlC8B,CAsC9B,CAAC,0BAAD,CAA6B,yCAA7B,CAtC8B,CAuC9B,CAAC,6BAAD,CAAgC,yCAAhC,CAvC8B,CAwC9B,CAAC,iBAAD,CAAoB,oCAApB,CAxC8B,CAyC9B,CAAC,qBAAD,CAAwB,oCAAxB,CAzC8B,CA0C9B,CAAC,2BAAD,CAA8B,oCAA9B,CA1C8B,CA2C9B,CAAC,8BAAD,CAAiC,oCAAjC,CA3C8B,CAAR,CAAxB,CA8CA,KAAMC,CAAAA,GAAG,CAAGC,OAAO,CAAC,QAAD,CAAnB,CACA,KAAMC,CAAAA,eAAe,CAAGF,GAAG,CAACG,gBAA5B,CACAH,GAAG,CAACG,gBAAJ,CAAuB,SACrBC,OADqB,CAErBC,MAFqB,CAGrBC,MAHqB,CAIrBC,OAJqB,CAKrB,CACA,KAAMC,CAAAA,YAAY,CAAGV,eAAe,CAACW,GAAhB,CAAoBL,OAApB,CAArB,CACA,GAAII,YAAJ,CAAkBJ,OAAO,CAAGI,YAAV,CAClB,MAAON,CAAAA,eAAe,CAACQ,IAAhB,CAAqBV,GAArB,CAA0BI,OAA1B,CAAmCC,MAAnC,CAA2CC,MAA3C,CAAmDC,OAAnD,CAAP,CACD,CATD","sourcesContent":["// sync injects a hook for webpack and webpack/... requires to use the internal ncc webpack version\n// this is in order for userland plugins to attach to the same webpack instance as next.js\n// the individual compiled modules are as defined for the compilation in bundles/webpack/packages/*\n\nconst hookPropertyMap = new Map([\n  ['webpack', 'next/dist/compiled/webpack/webpack-lib'],\n  ['webpack/package', 'next/dist/compiled/webpack/package'],\n  ['webpack/package.json', 'next/dist/compiled/webpack/package'],\n  ['webpack/lib/webpack', 'next/dist/compiled/webpack/webpack-lib'],\n  ['webpack/lib/webpack.js', 'next/dist/compiled/webpack/webpack-lib'],\n  [\n    'webpack/lib/node/NodeEnvironmentPlugin',\n    'next/dist/compiled/webpack/NodeEnvironmentPlugin',\n  ],\n  [\n    'webpack/lib/node/NodeEnvironmentPlugin.js',\n    'next/dist/compiled/webpack/NodeEnvironmentPlugin',\n  ],\n  [\n    'webpack/lib/BasicEvaluatedExpression',\n    'next/dist/compiled/webpack/BasicEvaluatedExpression',\n  ],\n  [\n    'webpack/lib/BasicEvaluatedExpression.js',\n    'next/dist/compiled/webpack/BasicEvaluatedExpression',\n  ],\n  [\n    'webpack/lib/node/NodeTargetPlugin',\n    'next/dist/compiled/webpack/NodeTargetPlugin',\n  ],\n  [\n    'webpack/lib/node/NodeTargetPlugin.js',\n    'next/dist/compiled/webpack/NodeTargetPlugin',\n  ],\n  [\n    'webpack/lib/ModuleFilenameHelpers',\n    'next/dist/compiled/webpack/ModuleFilenameHelpers',\n  ],\n  [\n    'webpack/lib/ModuleFilenameHelpers.js',\n    'next/dist/compiled/webpack/ModuleFilenameHelpers',\n  ],\n  ['webpack/lib/GraphHelpers', 'next/dist/compiled/webpack/GraphHelpers'],\n  ['webpack/lib/GraphHelpers.js', 'next/dist/compiled/webpack/GraphHelpers'],\n  ['webpack-sources', 'next/dist/compiled/webpack/sources'],\n  ['webpack-sources/lib', 'next/dist/compiled/webpack/sources'],\n  ['webpack-sources/lib/index', 'next/dist/compiled/webpack/sources'],\n  ['webpack-sources/lib/index.js', 'next/dist/compiled/webpack/sources'],\n])\n\nconst mod = require('module')\nconst resolveFilename = mod._resolveFilename\nmod._resolveFilename = function (\n  request: string,\n  parent: any,\n  isMain: boolean,\n  options: any\n) {\n  const hookResolved = hookPropertyMap.get(request)\n  if (hookResolved) request = hookResolved\n  return resolveFilename.call(mod, request, parent, isMain, options)\n}\n"]}