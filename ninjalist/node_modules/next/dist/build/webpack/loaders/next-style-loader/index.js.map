{"version":3,"sources":["../../../../../build/webpack/loaders/next-style-loader/index.js"],"names":["schema","type","properties","injectType","description","enum","attributes","insert","anyOf","instanceof","base","esModule","additionalProperties","loaderApi","pitch","loader","request","options","loaderUtils","getOptions","name","baseDataPath","JSON","stringify","toString","hmrCode","hot","stringifyRequest","path","join","__dirname","isSingleton","isEqualLocals","module","exports"],"mappings":"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","sourcesContent":["import loaderUtils from 'next/dist/compiled/loader-utils'\nimport path from 'path'\nimport { validate } from 'next/dist/compiled/schema-utils3'\nimport isEqualLocals from './runtime/isEqualLocals'\n\nconst schema = {\n  type: 'object',\n  properties: {\n    injectType: {\n      description:\n        'Allows to setup how styles will be injected into DOM (https://github.com/webpack-contrib/style-loader#injecttype).',\n      enum: [\n        'styleTag',\n        'singletonStyleTag',\n        'lazyStyleTag',\n        'lazySingletonStyleTag',\n        'linkTag',\n      ],\n    },\n    attributes: {\n      description:\n        'Adds custom attributes to tag (https://github.com/webpack-contrib/style-loader#attributes).',\n      type: 'object',\n    },\n    insert: {\n      description:\n        'Inserts `<style>`/`<link>` at the given position (https://github.com/webpack-contrib/style-loader#insert).',\n      anyOf: [\n        {\n          type: 'string',\n        },\n        {\n          instanceof: 'Function',\n        },\n      ],\n    },\n    base: {\n      description:\n        'Sets module ID base for DLLPlugin (https://github.com/webpack-contrib/style-loader#base).',\n      type: 'number',\n    },\n    esModule: {\n      description:\n        'Use the ES modules syntax (https://github.com/webpack-contrib/css-loader#esmodule).',\n      type: 'boolean',\n    },\n  },\n  additionalProperties: false,\n}\n\nconst loaderApi = () => {}\n\nloaderApi.pitch = function loader(request) {\n  const options = loaderUtils.getOptions(this)\n\n  validate(schema, options, {\n    name: 'Style Loader',\n    baseDataPath: 'options',\n  })\n\n  const insert =\n    typeof options.insert === 'undefined'\n      ? '\"head\"'\n      : typeof options.insert === 'string'\n      ? JSON.stringify(options.insert)\n      : options.insert.toString()\n  const injectType = options.injectType || 'styleTag'\n  const esModule =\n    typeof options.esModule !== 'undefined' ? options.esModule : false\n\n  delete options.esModule\n\n  switch (injectType) {\n    case 'linkTag': {\n      const hmrCode = this.hot\n        ? `\nif (module.hot) {\n  module.hot.accept(\n    ${loaderUtils.stringifyRequest(this, `!!${request}`)},\n    function() {\n     ${\n       esModule\n         ? 'update(content);'\n         : `content = require(${loaderUtils.stringifyRequest(\n             this,\n             `!!${request}`\n           )});\n\n           content = content.__esModule ? content.default : content;\n\n           update(content);`\n     }\n    }\n  );\n\n  module.hot.dispose(function() {\n    update();\n  });\n}`\n        : ''\n\n      return `${\n        esModule\n          ? `import api from ${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoLinkTag.js')}`\n            )};\n            import content from ${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )};`\n          : `var api = require(${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoLinkTag.js')}`\n            )});\n            var content = require(${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )});\n\n            content = content.__esModule ? content.default : content;`\n      }\n\nvar options = ${JSON.stringify(options)};\n\noptions.insert = ${insert};\n\nvar update = api(content, options);\n\n${hmrCode}\n\n${esModule ? 'export default {}' : ''}`\n    }\n\n    case 'lazyStyleTag':\n    case 'lazySingletonStyleTag': {\n      const isSingleton = injectType === 'lazySingletonStyleTag'\n\n      const hmrCode = this.hot\n        ? `\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = ${isEqualLocals.toString()};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      ${loaderUtils.stringifyRequest(this, `!!${request}`)},\n      function () {\n        ${\n          esModule\n            ? `if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              if (update && refs > 0) {\n                update(content);\n              }`\n            : `content = require(${loaderUtils.stringifyRequest(\n                this,\n                `!!${request}`\n              )});\n\n              content = content.__esModule ? content.default : content;\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              if (update && refs > 0) {\n                update(content);\n              }`\n        }\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    if (update) {\n      update();\n    }\n  });\n}`\n        : ''\n\n      return `${\n        esModule\n          ? `import api from ${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )};\n            import content from ${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )};`\n          : `var api = require(${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )});\n            var content = require(${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )});\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }`\n      }\n\nvar refs = 0;\nvar update;\nvar options = ${JSON.stringify(options)};\n\noptions.insert = ${insert};\noptions.singleton = ${isSingleton};\n\nvar exported = {};\n\nexported.locals = content.locals || {};\nexported.use = function() {\n  if (!(refs++)) {\n    update = api(content, options);\n  }\n\n  return exported;\n};\nexported.unuse = function() {\n  if (refs > 0 && !--refs) {\n    update();\n    update = null;\n  }\n};\n\n${hmrCode}\n\n${esModule ? 'export default' : 'module.exports ='} exported;`\n    }\n\n    case 'styleTag':\n    case 'singletonStyleTag':\n    default: {\n      const isSingleton = injectType === 'singletonStyleTag'\n\n      const hmrCode = this.hot\n        ? `\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = ${isEqualLocals.toString()};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      ${loaderUtils.stringifyRequest(this, `!!${request}`)},\n      function () {\n        ${\n          esModule\n            ? `if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);`\n            : `content = require(${loaderUtils.stringifyRequest(\n                this,\n                `!!${request}`\n              )});\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);`\n        }\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}`\n        : ''\n\n      return `${\n        esModule\n          ? `import api from ${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )};\n            import content from ${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )};`\n          : `var api = require(${loaderUtils.stringifyRequest(\n              this,\n              `!${path.join(__dirname, 'runtime/injectStylesIntoStyleTag.js')}`\n            )});\n            var content = require(${loaderUtils.stringifyRequest(\n              this,\n              `!!${request}`\n            )});\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }`\n      }\n\nvar options = ${JSON.stringify(options)};\n\noptions.insert = ${insert};\noptions.singleton = ${isSingleton};\n\nvar update = api(content, options);\n\n${hmrCode}\n\n${esModule ? 'export default' : 'module.exports ='} content.locals || {};`\n    }\n  }\n}\n\nmodule.exports = loaderApi\n"]}