{"version":3,"sources":["../../../../../../../build/webpack/config/blocks/css/loaders/client.ts"],"names":["getClientStyleLoader","isDevelopment","assetPrefix","loader","options","insert","element","anchorElement","document","querySelector","parentNode","insertBefore","MiniCssExtractPlugin","publicPath"],"mappings":"uFACA,yG,mFAEO,QAASA,CAAAA,oBAAT,CAA8B,CACnCC,aADmC,CAEnCC,WAFmC,CAA9B,CAMoB,CACzB,MAAOD,CAAAA,aAAa,CAChB,CACEE,MAAM,CAAE,mBADV,CAEEC,OAAO,CAAE,CACP;AACA;AACA;AACA;AACA;AACAC,MAAM,CAAE,SAAUC,OAAV,CAAyB,CAC/B;AACA;AACA,GAAIC,CAAAA,aAAa,CAAGC,QAAQ,CAACC,aAAT,CAClB,2BADkB,CAApB,CAGA,GAAIC,CAAAA,UAAU,CAAGH,aAAa,CAACG,UAA/B,CAA2C;AAE3C;AACA;AACA;AACAA,UAAU,CAACC,YAAX,CAAwBL,OAAxB,CAAiCC,aAAjC,EACD,CAlBM,CAFX,CADgB,CAwBhB,CACE;AACAJ,MAAM,CAAES,8BAAqBT,MAF/B,CAGEC,OAAO,CAAE,CAAES,UAAU,CAAG,GAAEX,WAAY,SAA7B,CAHX,CAxBJ,CA6BD","sourcesContent":["import { webpack } from 'next/dist/compiled/webpack/webpack'\nimport MiniCssExtractPlugin from '../../../../plugins/mini-css-extract-plugin'\n\nexport function getClientStyleLoader({\n  isDevelopment,\n  assetPrefix,\n}: {\n  isDevelopment: boolean\n  assetPrefix: string\n}): webpack.RuleSetUseItem {\n  return isDevelopment\n    ? {\n        loader: 'next-style-loader',\n        options: {\n          // By default, style-loader injects CSS into the bottom\n          // of <head>. This causes ordering problems between dev\n          // and prod. To fix this, we render a <noscript> tag as\n          // an anchor for the styles to be placed before. These\n          // styles will be applied _before_ <style jsx global>.\n          insert: function (element: Node) {\n            // These elements should always exist. If they do not,\n            // this code should fail.\n            var anchorElement = document.querySelector(\n              '#__next_css__DO_NOT_USE__'\n            )!\n            var parentNode = anchorElement.parentNode! // Normally <head>\n\n            // Each style tag should be placed right before our\n            // anchor. By inserting before and not after, we do not\n            // need to track the last inserted element.\n            parentNode.insertBefore(element, anchorElement)\n          },\n        },\n      }\n    : {\n        // @ts-ignore: TODO: remove when webpack 5 is stable\n        loader: MiniCssExtractPlugin.loader,\n        options: { publicPath: `${assetPrefix}/_next/` },\n      }\n}\n"]}